<!--<!DOCTYPE html>-->
<!--<html lang="vi">-->
<!--<head>-->
<!--  <title>Trang chủ</title>-->
<!--  <meta charset="UTF-8">-->
<!--  <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--  <link rel="stylesheet" href="css/template.css">-->
<!--  <link rel="stylesheet" href="css/quan-ly-khoan-thu-form.css">-->
<!--  <link rel='stylesheet' href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css'>-->
<!--</head>-->
<!--<body>-->
<!--&lt;!&ndash; Sidebar &ndash;&gt;-->
<!--<div th:replace="~{/fragments/sidebar :: sidebar}" class="sidebar"> &lt;!&ndash; Sidebar placeholder &ndash;&gt; </div>-->

<!--&lt;!&ndash; Main Content &ndash;&gt;-->
<!--<div class="mainboard">-->
<!--  <div class="main-content" id="maincontent">-->
<!--    <h1>Quản lý khoản thu</h1>-->
<!--    <br>-->
<!--    <h2>Tạo khoản thu</h2>-->
<!--    <br>-->

<!--    <form>-->
<!--      <div class="upper">-->
<!--        &lt;!&ndash; Left Side &ndash;&gt;-->
<!--        <div class="leftside">-->
<!--          <div class="ten">-->
<!--            <label for="payment-name">Tên khoản thu:</label>-->
<!--            <input type="text" id="payment-name" name="payment-name" required>-->
<!--          </div>-->
<!--          <br>-->
<!--          <div class="tien">-->
<!--            <label>Số tiền:</label>-->
<!--            <br>-->
<!--            <input type="radio" id="voluntary" name="payment-option" class="dot" value="voluntary" required>-->
<!--            <label for="voluntary">Bắt Buộc</label>-->
<!--            <br>-->
<!--            <input type="radio" id="specific" name="payment-option" class="dot" value="specific" required>-->
<!--            <input type="number" id="amount" name="amount">-->
<!--          </div>-->
<!--          <br>-->
<!--          <div class="nguoi-thu">-->
<!--            <label for="payment-receiver">Người tạo:</label>-->
<!--            <input type="text" id="payment-receiver" name="payment-receiver" required>-->
<!--          </div>-->
<!--          <br>-->
<!--        </div>-->

<!--        &lt;!&ndash; Right Side &ndash;&gt;-->
<!--        &lt;!&ndash; Commented Right Side Fields &ndash;&gt;-->
<!--        &lt;!&ndash;-->
<!--        <div class="rightside">-->
<!--          <div class="ngay-batdau">-->
<!--            <label for="payment-start">Ngày bắt đầu:</label>-->
<!--            <input type="date" id="payment-start" name="payment-start" required>-->
<!--          </div>-->
<!--          <br>-->
<!--        &ndash;&gt;-->
<!--        <div class="ngay-ketthuc">-->
<!--          <label for="payment-end">Hạn chót:</label>-->
<!--          <input type="date" id="payment-end" name="payment-end" required>-->
<!--        </div>-->
<!--        <br>-->
<!--        &lt;!&ndash;-->
<!--          <div class="lap-lai">-->
<!--            <label>Lặp lại:</label>-->
<!--            <br>-->
<!--            <input type="radio" id="no-repeat" name="repeat-option" class="dot" value="no-repeat" required>-->
<!--            <label for="no-repeat">Không lặp lại</label>-->
<!--            <br>-->
<!--            <input type="radio" id="1-month" name="repeat-option" class="dot" value="1-month" required>-->
<!--            <label for="1-month">Hàng tháng</label>-->
<!--            <br>-->
<!--            <input type="radio" id="3-month" name="repeat-option" class="dot" value="3-month" required>-->
<!--            <label for="3-month">3 tháng</label>-->
<!--            <br>-->
<!--            <input type="radio" id="6-month" name="repeat-option" class="dot" value="6-month" required>-->
<!--            <label for="6-month">6 tháng</label>-->
<!--            <br>-->
<!--            <input type="radio" id="1-year" name="repeat-option" class="dot" value="1-year" required>-->
<!--            <label for="1-year">Hàng năm</label>-->
<!--            <br>-->
<!--          </div>-->
<!--        &ndash;&gt;-->
<!--        <br>-->
<!--      </div>-->

<!--      &lt;!&ndash; Lower Section &ndash;&gt;-->
<!--      &lt;!&ndash;-->
<!--      <div class="lower">-->
<!--        <label for="detail">Mô tả:</label>-->
<!--        <br><br>-->
<!--        <textarea id="detail" name="detail" class="detail"></textarea>-->
<!--      </div>-->
<!--      &ndash;&gt;-->
<!--      <br><br>-->

<!--      &lt;!&ndash; Buttons &ndash;&gt;-->
<!--      <button type="submit" class="submit-button">-->
<!--        <i class='bx bx-save'></i> Lưu-->
<!--      </button>-->
<!--      <button type="submit" class="submit-button">-->
<!--        <i class='bx bx-trash'></i> Xóa-->
<!--      </button>-->
<!--    </form>-->
<!--  </div>-->
<!--</div>-->

<!--</body>-->

<!--<script src="js/menu-toggle.js"></script>-->
<!--</html>-->

<!--<!DOCTYPE html>-->
<!--<html lang="vi">-->
<!--<head>-->
<!--  <title>Trang chủ</title>-->
<!--  <meta charset="UTF-8">-->
<!--  <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--  <link rel="stylesheet" href="css/template.css">-->
<!--  <link rel="stylesheet" href="css/quan-ly-khoan-thu-form.css">-->
<!--  <link rel='stylesheet' href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css'>-->
<!--  <style>-->
<!--    .hidden {-->
<!--      display: none;-->
<!--    }-->
<!--  </style>-->
<!--</head>-->
<!--<body>-->
<!--&lt;!&ndash; Sidebar &ndash;&gt;-->
<!--<div th:replace="~{/fragments/sidebar :: sidebar}" class="sidebar"> &lt;!&ndash; Sidebar placeholder &ndash;&gt; </div>-->

<!--&lt;!&ndash; Main Content &ndash;&gt;-->
<!--<div class="mainboard">-->
<!--  <div class="main-content" id="maincontent">-->
<!--    <h1>Quản lý khoản thu</h1>-->
<!--    <br>-->
<!--    <h2>Tạo khoản thu</h2>-->
<!--    <br>-->

<!--    <form>-->
<!--      <div class="upper">-->
<!--        &lt;!&ndash; Left Side &ndash;&gt;-->
<!--        <div class="leftside">-->
<!--          <div class="ten">-->
<!--            <label for="payment-name">Tên khoản thu mới:</label>-->
<!--            <input type="text" id="payment-name" name="payment-name" required>-->
<!--          </div>-->
<!--          <br>-->
<!--          <div class="tien">-->
<!--            <label>Bắt buộc:</label>-->
<!--            <br>-->
<!--            <input type="radio" id="mandatory" name="payment-type" value="mandatory" onclick="togglePayment(true)" required>-->
<!--            <label for="mandatory">Có</label>-->
<!--            <br>-->
<!--            <input type="radio" id="voluntary" name="payment-type" value="voluntary" onclick="togglePayment(false)" required>-->
<!--            <label for="voluntary">Không</label>-->
<!--            <br>-->
<!--            &lt;!&ndash; Trường nhập số tiền &ndash;&gt;-->
<!--            <div id="amount-section" class="hidden">-->
<!--              <label for="amount">Nhập số tiền:</label>-->
<!--              <input type="number" id="amount" name="amount" placeholder="Nhập số tiền">-->
<!--            </div>-->
<!--            <div id="voluntary-note" class="hidden">-->
<!--              <p style="font-style: italic; color: gray;">Khoản thu này là tự nguyện.</p>-->
<!--            </div>-->
<!--          </div>-->
<!--          <br>-->
<!--          <div class="nguoi-thu">-->
<!--            <label for="payment-receiver">Người tạo:</label>-->
<!--            <input type="text" id="payment-receiver" name="payment-receiver" required>-->
<!--          </div>-->
<!--          <br>-->
<!--        </div>-->

<!--        &lt;!&ndash; Right Side &ndash;&gt;-->
<!--        <div class="ngay-ketthuc">-->
<!--          <label for="payment-end">Hạn chót:</label>-->
<!--          <input type="date" id="payment-end" name="payment-end" required>-->
<!--        </div>-->
<!--        <br>-->
<!--      </div>-->

<!--      &lt;!&ndash; Buttons &ndash;&gt;-->
<!--      <button type="submit" class="submit-button">-->
<!--        <i class='bx bx-save'></i> Lưu-->
<!--      </button>-->
<!--      <button type="reset" class="submit-button">-->
<!--        <i class='bx bx-trash'></i> Xóa-->
<!--      </button>-->
<!--    </form>-->
<!--  </div>-->
<!--</div>-->

<!--&lt;!&ndash; Script &ndash;&gt;-->
<!--<script>-->
<!--  function togglePayment(isMandatory) {-->
<!--    const amountSection = document.getElementById("amount-section");-->
<!--    const voluntaryNote = document.getElementById("voluntary-note");-->
<!--    if (isMandatory) {-->
<!--      amountSection.classList.remove("hidden");-->
<!--      voluntaryNote.classList.add("hidden");-->
<!--    } else {-->
<!--      amountSection.classList.add("hidden");-->
<!--      voluntaryNote.classList.remove("hidden");-->
<!--    }-->
<!--  }-->
<!--</script>-->
<!--</body>-->
<!--<script src="js/menu-toggle.js"></script>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <title>Trang chủ</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/template.css">
  <link rel="stylesheet" href="css/quan-ly-khoan-thu-form.css">
  <link rel='stylesheet' href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css'>
  <style>
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
<!-- Sidebar -->
<div th:replace="~{/fragments/sidebar :: sidebar}" class="sidebar"> <!-- Sidebar placeholder --> </div>

<!-- Main Content -->
<div class="mainboard">
  <div class="main-content" id="maincontent">
    <h1>Quản lý khoản thu</h1>
    <br>
    <h2>Tạo khoản thu</h2>
    <br>
    <form method="post" th:action="@{/create}" th:object="${khoanthuDto}">
      <div class="row mb-3">
        <label for="tenkhoanthu" class="col-sm-4 col-form-label">Tên khoản thu mới</label>
        <div class="col-sm-8">
          <input type="text" id="tenkhoanthu" class="form-control" th:field="*{tenkhoanthu}">
          <p th:if="${#fields.hasErrors('tenkhoanthu')}" class="text-danger" th:text="${#fields.errorMessage('tenkhoanthu')}"></p>
        </div>
      </div>

      <div class="row mb-3">
        <label for="sotien-input" class="col-sm-4 col-form-label">Số tiền</label>
        <div class="col-sm-8">
          <input class="form-control" type="number" min="0" step="1000" th:field="*{sotien}" id="sotien-input">
          <p th:if="${#fields.hasErrors('sotien')}" class="text-danger" th:text="${#fields.errorMessage('sotien')}"></p>
        </div>
      </div>

      <div class="row mb-3">
        <label for="batbuoc-select" class="col-sm-4 col-form-label">Bắt buộc</label>
        <div class="col-sm-8">
          <select class="form-select" th:field="*{batbuoc}" id="batbuoc-select">
            <option value="Có">Có</option>
            <option value="Không">Không</option>
          </select>
          <p th:if="${#fields.hasErrors('batbuoc')}" class="text-danger" th:text="${#fields.errorMessage('batbuoc')}"></p>
        </div>
      </div>

      <div class="row mb-3">
        <label for="hanchot" class="col-sm-4 col-form-label">Hạn chót</label>
        <div class="col-sm-8">
          <input id="hanchot" class="form-control" type="datetime-local" th:field="*{hanchot}"
                 min="${#temporals.format(#temporals.now(), 'yyyy-MM-dd\'T\'HH:mm')}">
          <p th:if="${#fields.hasErrors('hanchot')}" class="text-danger" th:text="${#fields.errorMessage('hanchot')}"></p>
        </div>
      </div>

      <div class="row mb-3">
        <label for="nguoitao" class="col-sm-4 col-form-label">Người tạo</label>
        <div class="col-sm-8">
          <input type="text" id="nguoitao" class="form-control" th:field="*{nguoitao}">
          <p th:if="${#fields.hasErrors('nguoitao')}" class="text-danger" th:text="${#fields.errorMessage('nguoitao')}"></p>
        </div>
      </div>

      <div class="row">
        <div class="col-sm-8 offset-sm-4">
          <button type="submit" class="btn btn-primary">Lưu khoản thu</button>
          <a th:href="@{/quan-ly-khoan-thu/list/cancel}" class="btn btn-primary">Quay lại</a>
        </div>
      </div>
    </form>

  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const batBuocSelect = document.getElementById('batbuoc-select');
    const soTienInput = document.getElementById('sotien-input');

    batBuocSelect.addEventListener('change', () => {
      if (batBuocSelect.value === 'Không') {
        soTienInput.value = ''; // Clear input
        soTienInput.setAttribute('disabled', 'true'); // Disable input
      } else {
        soTienInput.removeAttribute('disabled'); // Enable input
      }
    });

    // Trigger change event to set correct state when the page loads
    batBuocSelect.dispatchEvent(new Event('change'));
  });
</script>

<script src="js/menu-toggle.js"></script>
</body>
</html>
